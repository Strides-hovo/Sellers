import{o as a,c as d,a as e,d as S,r as i,b as T,w as L,e as $,f as E,g as m,h as N,i as B,T as V,F as g,u as I,j as M,k as P,t as u}from"./index-C8EWu214.js";const j=(v,c)=>{const n=v.__vccOpts||v;for(const[r,p]of c)n[r]=p;return n},q={},D={class:"overflow d-flex align-items-center justify-content-center w-100 h-100 position-fixed"},F=e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),O=[F];function W(v,c){return a(),d("div",D,O)}const z=j(q,[["render",W]]),A={class:"table-responsive"},G={class:"table table-bordered border-primary"},U=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#id"),e("th",{scope:"col"},"avatar"),e("th",{scope:"col"},"color"),e("th",{scope:"col"},"name"),e("th",{scope:"col"},"sales"),e("th",{scope:"col"},"rating")])],-1),H=["src"],J={class:"seller-name"},K={key:0,class:"text-center text-bg-info text-white p-3"},Q={class:"observer",ref:"observer"},Y=S({__name:"Sellers",setup(v){const c=I(),n=i(1),r=i(!1),p=i(null),f=i([]),_=T(()=>c.getters.totalPages),b=o=>{const s=o.target;if(s){const t=s.closest("tr");t&&t.classList.toggle("active")}},y=()=>{r.value||n.value==_.value||(r.value=!0,setTimeout(()=>{n.value+=1,r.value=!1},1e3))},w=()=>{r.value||n.value<=2||(r.value=!0,setTimeout(()=>{n.value-=1,r.value=!1},1e3))},k=()=>{let o={rootMargin:"10px",threshold:[0,.25,.5,.75,1]},s=function(h){h[0].isIntersecting&&y()},t=new IntersectionObserver(s,o);const l=i(document.querySelector(".observer"));l.value&&t.observe(l.value)},x=o=>{w(),o.scrollIntoView({behavior:"smooth"})};L(async()=>{const o=c.getters.paginatedSellers(n.value);f.value=await o}),$(()=>{k()});const C=o=>{let s=o.target.innerWidth;document.querySelectorAll(".seller-name").forEach((l,h,R)=>{l.style.minWidth=`${s/4}px`})};return window.addEventListener("resize",C),(o,s)=>(a(),d(g,null,[r.value?(a(),E(z,{key:0})):m("",!0),e("main",A,[e("div",{id:"top",ref_key:"sectionTop",ref:p},null,512),e("table",G,[U,e("tbody",null,[N(V,{name:"list"},{default:B(()=>[(a(!0),d(g,null,M(f.value,t=>(a(),d("tr",{key:t.id,onClick:s[0]||(s[0]=P(l=>b(l),["stop"])),role:"button"},[e("td",null,u(t.id),1),e("td",null,[e("img",{src:t.avatar,alt:"",width:"50",height:"50"},null,8,H)]),e("td",null,u(t.color),1),e("td",J,u(t.name),1),e("td",null,u(t.sales),1),e("td",null,u(t.rating),1)]))),128))]),_:1})])]),e("button",{onClick:s[1]||(s[1]=t=>x(p.value)),class:"btn btn-info btn-up btn-group-lg fs-1"}," ⇧ "),n.value===_.value?(a(),d("div",K,"Клиенты больше нету")):m("",!0),e("div",Q,null,512)])],64))}});export{Y as default};
